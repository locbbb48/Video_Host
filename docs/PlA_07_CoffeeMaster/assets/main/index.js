System.register("chunks:///_virtual/Block.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./PosCheck.ts","./GridManager.ts","./Grid.ts","./Wall.ts","./BlockControl.ts","./getColorFromType.ts","./CoffeeCup.ts","./SoundManager.ts","./Constraint.ts"],(function(t){var e,n,o,i,r,s,a,l,u,c,f,p,d,h,w,g,m,C,v,b,P,x,y,k,z,F,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){l=t.cclegacy,u=t._decorator,c=t.Enum,f=t.Node,p=t.BoxCollider,d=t.MeshRenderer,h=t.Vec3,w=t.Component,g=t.tween},function(t){m=t.TypeColor},function(t){C=t.PosCheck},function(t){v=t.GridManager},function(t){b=t.Grid},function(t){P=t.Wall},function(t){x=t.BlockControl},function(t){y=t.getColorFromType},function(t){k=t.CoffeeCup},function(t){z=t.SoundManager},function(t){F=t.Constraint,O=t.TypeDirec}],execute:function(){var S,D,I,R,L,N,E,B,M,G,T,W,U,Q,X,Y,_,H,V,A,j,K,q;l._RF.push({},"f718bc6xABKbra9+oQWQU5w","Block",void 0);var J=u.ccclass,Z=u.property,$=u.executeInEditMode;t("Block",(S=J("Block"),D=Z({type:c(m)}),I=Z(f),R=Z(f),L=Z(f),N=Z(f),E=Z(f),B=Z(P),S(M=$((T=e((G=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"ColorID",T,i(e)),o(e,"border",W,i(e)),o(e,"left",U,i(e)),o(e,"right",Q,i(e)),o(e,"up",X,i(e)),o(e,"down",Y,i(e)),o(e,"offsetUp",_,i(e)),o(e,"offsetDown",H,i(e)),o(e,"offsetLeft",V,i(e)),o(e,"offsetRight",A,i(e)),e.listNodeOwnFrame=[],e.canMove=!1,o(e,"wall",j,i(e)),o(e,"limitUpDown",K,i(e)),o(e,"limitLeftRight",q,i(e)),e.maxCupSlotCount=void 0,e.timeDelay=.05,e.isReceivingCup=!1,e}n(e,t);var l=e.prototype;return l.onLoad=function(){this.InitListNodeOwn()},l.start=function(){var t=this;this.scheduleOnce((function(){t.SetPosTouchEnd()}),.4),this.changeColor(this.ColorID);var e=this.node.getComponent(p);e&&(e.on("onCollisionStay",this.onCollisionStay,this),e.on("onCollisionExit",this.onCollisionExit,this)),this.getSortedPosChecks(),this.maxCupSlotCount=this.listNodeOwnFrame.map((function(t){return t.getComponent(C).cupSlots.length})).reduce((function(t,e){return t+e}),0),this.border&&(this.border.active=!1)},l.update=function(){},l.changeColor=function(t){var e=y(null!=t?t:this.ColorID);this.node.children.forEach((function(t){var n=t.getComponent(d);n&&(n.materials[0].setProperty("diffuseColor",e),n.materials[1]&&n.materials[1].setProperty("diffuseColor",e))}))},l.FindConstraint=function(){var t=this.node.getComponentInChildren(F);if(t)return t.typeDirection},l.onCollisionStay=function(){var t=s(a().mark((function t(e){var n,o,i=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.otherCollider.node,(o=n.getComponent(P))&&o.typeColor===this.ColorID){t.next=4;break}return t.abrupt("return");case 4:if(this.wall=o,this.wall&&!this.isReceivingCup){t.next=7;break}return t.abrupt("return");case 7:return this.isReceivingCup=!0,t.next=10,this.ReceiveCupFromWall().then((function(){setTimeout((function(){i.isReceivingCup=!1}),1e3*i.timeDelay)}));case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),l.ReceiveCupFromWall=function(){var t=s(a().mark((function t(){var e,n,o,i,s,l,u,c,f=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getSortedPosChecks(),(n=this.wall.getComponent(P))&&0!==n.cupQueue.length){t.next=4;break}return t.abrupt("return");case 4:if(o=n.getFirstCup()){t.next=7;break}return t.abrupt("return");case 7:if((i=o.getComponent(k))&&i.colorID===this.ColorID){t.next=10;break}return t.abrupt("return");case 10:s=a().mark((function t(){var e,o,i,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=c.value,o=a().mark((function t(o){var i,r,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.listPosPassenger[o]){t.next=17;break}if(z.instance.playSFX("Pop"),i=n.popFirstCup()){t.next=5;break}return t.abrupt("return",{v:{v:void 0}});case 5:return r=e.cupSlots[o],s=e.node.getWorldPosition().add(r),t.next=9,new Promise((function(t){var n=i.worldPosition.clone().clone();n.y+=4;var a=s.clone();a.y+=4,g(i).to(.05,{worldPosition:n},{easing:"sineOut"}).to(.02,{worldPosition:a},{easing:"sineInOut"}).to(.02,{worldPosition:s},{easing:"sineIn"}).call((function(){i.setParent(e.node),i.setPosition(r),i.setScale(new h(1,2,1)),e.listPosPassenger[o]=i,t()})).start()}));case 9:if(n.fillEmptyPos(),n.refreshCupQueue(),n.updateColorFromFirstCup(),f.maxCupSlotCount--,!(f.maxCupSlotCount<=0)){t.next=16;break}return t.next=16,f.MoveOutBlock();case 16:return t.abrupt("return",{v:{v:void 0}});case 17:case"end":return t.stop()}}),t)})),r=0;case 3:if(!(r<e.cupSlots.length)){t.next=11;break}return t.delegateYield(o(r),"t0",5);case 5:if(!(i=t.t0)){t.next=8;break}return t.abrupt("return",i.v);case 8:r++,t.next=3;break;case 11:case"end":return t.stop()}}),t)})),u=r(e);case 12:if((c=u()).done){t.next=19;break}return t.delegateYield(s(),"t0",14);case 14:if(!(l=t.t0)){t.next=17;break}return t.abrupt("return",l.v);case 17:t.next=12;break;case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onCollisionExit=function(t){null!=this.wall&&this.wall===t.otherCollider.node.getComponent(P)&&(this.wall=null)},l.InitListNodeOwn=function(){var t=this;this.node.children.forEach((function(e){e.getComponent(C)&&t.listNodeOwnFrame.push(e)}))},l.InitDataOfListNodeOwnFrame=function(){this.listNodeOwnFrame.forEach((function(t){t.getComponent(C).InitDataPos()}))},l.getSortedPosChecks=function(){return this.listNodeOwnFrame.map((function(t){return t.getComponent(C)})).sort((function(t,e){var n=t.node.worldPosition,o=e.node.worldPosition;return Math.abs(n.z-o.z)>.01?o.z-n.z:n.x-o.x}))},l.GetGroupLimit=function(){var t=v.instance.gridNodes,e=t.length,n=t[0].length,o=this.listNodeOwnFrame.map((function(t){var e=t.getComponent(C);return{row:e.rowOwn,col:e.colOwn}})),i={left:0,right:0,up:0,down:0},s=function(i){for(var s=0;;){s++;for(var a,l,u=o.map((function(t){var e=t.row,n=t.col;switch(i){case"left":n-=s;break;case"right":n+=s;break;case"up":e-=s;break;case"down":e+=s}return{row:e,col:n}})),c=function(){var i=l.value,r=i.row,a=i.col;if(r<0||r>=e||a<0||a>=n)return{v:s-1};var u=t[r][a];return!o.some((function(t){return t.row===r&&t.col===a}))&&u.getComponent(b).CheckOccupied()?{v:s-1}:void 0},f=r(u);!(l=f()).done;)if(a=c())return a.v}};return i.left=s("left"),i.right=s("right"),i.up=s("up"),i.down=s("down"),i},l.GetStepSize=function(){var t=v.instance.gridNodes;return{stepX:h.distance(t[0][0].worldPosition,t[0][1].worldPosition),stepY:h.distance(t[0][0].worldPosition,t[1][0].worldPosition)}},l.GetWorldLimitPosition=function(t){var e=this.GetStepSize(),n=e.stepX,o=e.stepY,i=this.node.worldPosition,r=n/2,s=o/2,a=this.up.getComponent(C).nodeCloset,l=this.down.getComponent(C).nodeCloset,u=this.left.getComponent(C).nodeCloset,c=this.right.getComponent(C).nodeCloset,f=new h(0,0,a.worldPosition.z-(2*t.up+1)*s+this.offsetUp),p=new h(0,0,l.worldPosition.z+(2*t.down+1)*s-this.offsetDown),d=new h(c.worldPosition.x+(2*t.right+1)*r-this.offsetRight,0,0),w=new h(u.worldPosition.x-(2*t.left+1)*r+this.offsetLeft,0,0);this.limitUpDown&&(f=p=new h(0,0,i.z)),this.limitLeftRight&&(d=w=new h(i.x,0,0)),this.FindConstraint()===O.Horizoltal?(f=new h(0,0,i.z),p=new h(0,0,i.z)):this.FindConstraint()===O.Vectical&&(w=new h(i.x,0,0),d=new h(i.x,0,0));var g=new h(w.x,i.y,p.z),m=new h(d.x,i.y,f.z);return 0==t.left&&0==t.right&&0==t.up&&0==t.down&&(g=new h(i.x,i.y,i.z),m=new h(i.x,i.y,i.z)),{min:g,max:m}},l.GetLimitNodePosOwnFrame=function(){for(var t,e={left:null,right:null,up:null,down:null},n=1/0,o=-1/0,i=1/0,s=-1/0,a=r(this.listNodeOwnFrame);!(t=a()).done;){var l=t.value,u=l.worldPosition,c=u.x,f=u.y,p=l.getComponent(C).nodeCloset;c<=n&&(n=c,e.left=p),c>=o&&(o=c,e.right=p),f<=i&&(i=f,e.down=p),f>=s&&(s=f,e.up=p)}return e},l.SetPosTouchEnd=function(){this.border&&(this.border.active=!1);var t=this.listNodeOwnFrame[0],e=null==t?void 0:t.getComponent(C);if(e&&e.nodeCloset){var n=e.nodeCloset,o=new h(n.worldPosition.x-t.worldPosition.x,n.worldPosition.y-t.worldPosition.y,n.worldPosition.z-t.worldPosition.z),i=this.node.worldPosition.clone().add(o);this.node.setWorldPosition(i)}else console.warn("[SetPosTouchEnd] nodeCloset is null, skip aligning.")},l.MoveOutBlock=function(){var t=s(a().mark((function t(){var e,n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.canMove=!0,z.instance.playSFX("PopWingsh"),null==(e=x.instance)||e.RemoveBlockInList(this.node),this.listNodeOwnFrame.forEach((function(t){var e=t.getComponent(C);e&&e.ReBackValue()})),this.wall=null,this.listNodeOwnFrame.length=0,t.next=8,new Promise((function(t){var e=new h(n.node.position.x-1,2,n.node.position.z+1);g(n.node).to(.5,{position:e},{easing:"sineInOut"}).call((function(){return t()})).start()}));case 8:return t.next=10,new Promise((function(t){g(n.node).to(1.5,{position:new h(20,20,-20)},{easing:"sineInOut"}).call((function(){n.node.active=!1,t()})).start()}));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(w)).prototype,"ColorID",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(G.prototype,"border",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(G.prototype,"left",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(G.prototype,"right",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(G.prototype,"up",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(G.prototype,"down",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(G.prototype,"offsetUp",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=e(G.prototype,"offsetDown",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=e(G.prototype,"offsetLeft",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=e(G.prototype,"offsetRight",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=e(G.prototype,"wall",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(G.prototype,"limitUpDown",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=e(G.prototype,"limitLeftRight",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=G))||M)||M));l._RF.pop()}}}));

System.register("chunks:///_virtual/BlockControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./SoundManager.ts"],(function(t){var n,e,o,i,l,c,r,s,a,u,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,l=t.createClass},function(t){c=t.cclegacy,r=t._decorator,s=t.Node,a=t.Component},function(t){u=t.GameManager},function(t){h=t.SoundManager}],execute:function(){var k,g,f,p,B,y,d,m;c._RF.push({},"f192dAnlDNDSos4St/ozMwQ","BlockControl",void 0);var v=r.ccclass,C=r.property;t("BlockControl",(k=v("BlockControl"),g=C([s]),f=C(s),k(((m=function(t){function n(){for(var n,e=arguments.length,l=new Array(e),c=0;c<e;c++)l[c]=arguments[c];return n=t.call.apply(t,[this].concat(l))||this,o(n,"listBlock",y,i(n)),n.totalBlocks=0,o(n,"angryNode",d,i(n)),n.angryTimeout=null,n.lastBlockCount=0,n}e(n,t);var c=n.prototype;return c.onLoad=function(){n._instance=this,this.Init()},c.Init=function(){var t=this;this.node.children.forEach((function(n){t.listBlock.push(n),t.totalBlocks++}))},c.start=function(){this.lastBlockCount=this.listBlock.length,this.scheduleAngryCheck()},c.scheduleAngryCheck=function(){var t=this;this.angryTimeout&&clearTimeout(this.angryTimeout),this.angryTimeout=setTimeout((function(){t.listBlock.length===t.lastBlockCount&&t.listBlock.length>0&&(t.angryNode.active=!0,h.instance.playSFX("Angry"),setTimeout((function(){t.angryNode.active=!1}),1500))}),1e4)},c.RemoveBlockInList=function(t){var n=this.listBlock.indexOf(t);n>-1&&(this.listBlock.splice(n,1),this.totalBlocks--,this.lastBlockCount=this.listBlock.length,this.scheduleAngryCheck()),this.CheckNoMoreBlock()&&(u.getInstance().checkWin=!0,u.getInstance().EventStatus(!0,window.SuperGamespace.linkStore.linkStore))},c.CheckNoMoreBlock=function(){return 0==this.listBlock.length},l(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(a))._instance=void 0,y=n((B=m).prototype,"listBlock",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=n(B.prototype,"angryNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=B))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/CoffeeCup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./getColorFromType.ts","./CupSpriteManager.ts"],(function(e){var t,r,o,i,n,p,s,a,c,u,l,f,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,p=e._decorator,s=e.Enum,a=e.SpriteRenderer,c=e.MeshRenderer,u=e.Component},function(e){l=e.TypeColor},function(e){f=e.getColorFromType},function(e){C=e.CupSpriteManager}],execute:function(){var y,h,d,g,m,v,b;n._RF.push({},"b6150KzCxNLjZkFeP2fbIVF","CoffeeCup",void 0);var F=p.ccclass,D=p.property,I=p.executeInEditMode;e("CoffeeCup",(y=F("CoffeeCup"),h=D({type:s(l)}),d=D({type:a}),y(g=I((v=t((m=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),p=0;p<r;p++)n[p]=arguments[p];return t=e.call.apply(e,[this].concat(n))||this,o(t,"colorID",v,i(t)),o(t,"spriteNode",b,i(t)),t}r(t,e);var n=t.prototype;return n.start=function(){this.applyColor(),C.instance&&this.getspriteFromType()},n.update=function(){},n.setColor=function(e){this.colorID=e,this.applyColor()},n.applyColor=function(){var e=f(this.colorID);this.node.children.forEach((function(t){var r=t.getComponent(c);r&&r.materials[0].setProperty("diffuseColor",e)}))},n.getspriteFromType=function(){if(this.spriteNode){var e=C.instance.getSprite(this.colorID);e&&(this.spriteNode.spriteFrame=e)}},t}(u)).prototype,"colorID",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.BLACK}}),b=t(m.prototype,"spriteNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g)||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/CoffeeRay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PosCheckCup.ts"],(function(t){var e,o,n,r,i,c,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,s=t.Component},function(t){a=t.PosCheckCup}],execute:function(){var u,p,l,f,h;i._RF.push({},"61a53xCy55H9YPTynn14HZK","CoffeeRay",void 0);var y=c.ccclass,C=c.property;t("CoffeeRay",(u=y("CoffeeRay"),p=C([a]),u((h=e((f=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(e,"cupSlots",h,r(e)),e}o(e,t);var i=e.prototype;return i.start=function(){this.initCupSlots()},i.initCupSlots=function(){var t=this;this.cupSlots=[],this.node.children.forEach((function(e){var o=e.getComponent(a);if(o){var n=o;t.cupSlots.push(n)}}))},e}(s)).prototype,"cupSlots",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=f))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/ColorManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,r,n,t,i,a,l,c;return{setters:[function(o){e=o.applyDecoratedDescriptor,r=o.inheritsLoose,n=o.initializerDefineProperty,t=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,l=o.Color,c=o.Component}],execute:function(){var s,u,f,p,h,E;i._RF.push({},"d5b52DEKzZNu6Xw8jA5DYF3","ColorManager",void 0);var g=a.ccclass,w=a.property;o("ColorManager",(s=g("ColorManager"),u=w({type:[l]}),s(((E=function(o){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=o.call.apply(o,[this].concat(i))||this,n(e,"colortable",h,t(e)),e}return r(e,o),e.prototype.onLoad=function(){e.instance=this,0===this.colortable.length&&(this.colortable=[(new l).fromHEX("#313131"),(new l).fromHEX("#E04C4C"),(new l).fromHEX("#F5FA76"),(new l).fromHEX("#ADE665"),(new l).fromHEX("#277BE7"),(new l).fromHEX("#D156F0"),(new l).fromHEX("#FD82B8"),(new l).fromHEX("#EB9B43"),(new l).fromHEX("#916D51")]),console.log("✅ ColorManager initialized with",this.colortable.length,"colors")},e}(c)).instance=void 0,h=e((p=E).prototype,"colortable",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/Constraint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,o,a,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Enum,l=t.Component}],execute:function(){var s,u,p,y,f;o._RF.push({},"3770aLjgj5P9a/zGekVZqze","Constraint",void 0);var h=a.ccclass,z=a.property,g=t("TypeDirec",function(t){return t[t.Horizoltal=1]="Horizoltal",t[t.Vectical=2]="Vectical",t}({}));t("Constraint",(s=h("Constraint"),u=z({type:c(g)}),s((f=e((y=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"typeDirection",f,n(e)),e}return r(e,t),e}(l)).prototype,"typeDirection",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/CupSpriteManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,a,s,o,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,o=e._decorator,p=e.SpriteFrame,c=e.Component}],execute:function(){var u,l,f,g,h,y;s._RF.push({},"eecd68Si79C1KpC0h+z7zrw","CupSpriteManager",void 0);var d=o.ccclass,v=o.property;e("CupSpriteManager",(u=d("CupSpriteManager"),l=v({type:[p]}),u(((y=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"spriteList",h,n(t)),t}r(t,e);var s=t.prototype;return s.onLoad=function(){t._instance=this},s.getSprite=function(e){return this.spriteList.length>e?this.spriteList[e]:null},a(t,null,[{key:"instance",get:function(){return t._instance}}]),t}(c))._instance=void 0,h=t((g=y).prototype,"spriteList",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=g))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/DetectPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StoreLinkOS.ts"],(function(t){var e,n,o,r,i,c,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,r=t._decorator,i=t.sys,c=t.Component},function(t){a=t.StoreLinkOS}],execute:function(){var l;o._RF.push({},"0201aF+gfRDC6eVBArC1m5p","DetectPlatform",void 0);var s=r.ccclass;r.property,t("default",s(l=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._currentLink=null,e}e(o,t);var r=o.prototype;return r.onLoad=function(){this.detectPlatform()},r.detectPlatform=function(){i.os===i.OS.IOS?this.SetLink(a.IOS_LINK):this.SetLink(a.ANDROID_LINK)},r.SwitchToStore=function(){if(this._currentLink){var t=this._currentLink;if(i.isNative)i.openURL(t);else{if(i.platform==i.Platform.IOS)try{window.location.href=t}catch(t){console.error("Failed to use window.location.href",t)}try{window.open(t,"_blank")}catch(t){console.error("Failed to use window.open with _blank",t)}try{var e=document.createElement("a");e.href=t,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(t){console.error("Failed to use anchor tag method",t)}}}},r.SetLink=function(t){this._currentLink=t},n(o,[{key:"currentLink",get:function(){return this._currentLink}}]),o}(c))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/Effect2D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,s,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.tween,u=e.Vec3,l=e.Component}],execute:function(){var c,p,d,h,f;a._RF.push({},"8e15e4/z/9EG4yHdgZxNMck","Effect2D",void 0);var y=o.ccclass,g=o.property;e("Effect2D",y("Effect2D")((d=t((p=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"amplitude",d,r(t)),n(t,"duration",h,r(t)),n(t,"delayBetweenShake",f,r(t)),t}i(t,e);var a=t.prototype;return a.start=function(){this.Lak2D(),this.Felling()},a.Felling=function(){var e=this.node.position;s(this.node).repeatForever(s().to(this.duration,{position:new u(e.x+this.amplitude,e.y+this.amplitude,e.z)},{easing:"sineInOut"}).to(this.duration,{position:new u(e.x-this.amplitude,e.y-this.amplitude,e.z)},{easing:"sineInOut"})).start()},a.Lak2D=function(){s(this.node).repeatForever(s().to(this.duration,{angle:this.amplitude},{easing:"sineInOut"}).delay(this.delayBetweenShake).to(this.duration,{angle:-this.amplitude},{easing:"sineInOut"}).delay(this.delayBetweenShake)).start()},t}(l)).prototype,"amplitude",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),h=t(p.prototype,"duration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),f=t(p.prototype,"delayBetweenShake",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),c=p))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/Effect3D.ts",["cc"],(function(e){var n,t,o;return{setters:[function(e){n=e.cclegacy,t=e.Vec3,o=e.tween}],execute:function(){n._RF.push({},"9e8e5jOG5VEhpFeP99vw8gE","Effect3D",void 0);e("Effect3D",function(){function e(){}return e.shakeNode=function(e,n,r,u,c){void 0===n&&(n=1.5),void 0===r&&(r=.3),void 0===u&&(u=.05),void 0===c&&(c="z");for(var f=Math.floor(r/(2*u)),i=[],s="x"===c?0:"y"===c?1:2,a=0;a<f;a++){var l=new t,v=new t;l[s]=n,v[s]=-n,i.push(o().to(u,{eulerAngles:l}),o().to(u,{eulerAngles:v}))}var h=new t;i.push(o().to(u,{eulerAngles:h}));var d=o(e);i.forEach((function(e){return d.then(e)})),d.start()},e.playQuickShake=function(e,n,r,u){void 0===n&&(n=1),void 0===r&&(r=.2),void 0===u&&(u=.05);for(var c=Math.floor(r/(2*u)),f=[],i=0;i<c;i++)f.push(o().to(u,{eulerAngles:new t(0,0,n)}),o().to(u,{eulerAngles:new t(0,0,-n)}));f.push(o().to(u,{eulerAngles:new t(0,0,0)}));var s=o(e);f.forEach((function(e){return s.then(e)})),s.start()},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Enum.ts",["cc"],(function(t){var E;return{setters:[function(t){E=t.cclegacy}],execute:function(){E._RF.push({},"7eed7AXPeNBL7hc4jFAdajU","Enum",void 0);t("TypeDirection",function(t){return t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.Horizoltal=5]="Horizoltal",t}({})),t("TypeColor",function(t){return t[t.BLACK=0]="BLACK",t[t.RED=1]="RED",t[t.YELLOW=2]="YELLOW",t[t.LIGHT_GREEN=3]="LIGHT_GREEN",t[t.BLUE=4]="BLUE",t[t.PURPLE=5]="PURPLE",t[t.PINK=6]="PINK",t[t.ORANGE=7]="ORANGE",t[t.BROWN=8]="BROWN",t[t.GREEN=9]="GREEN",t[t.WHITE=10]="WHITE",t}({}));E._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DetectPlatform.ts","./Super_html_script.ts"],(function(e){var t,n,i,r,a,c,o,s,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,o=e.PhysicsSystem,s=e.Component},function(e){l=e.default},function(e){u=e.Super_html_script}],execute:function(){var p,h,m,d,S,f,w,k;a._RF.push({},"061d6gzwV5JUaEvxeJt9euW","GameManager",void 0);var g=c.ccclass,_=c.property;e("GameManager",(p=g("GameManager"),h=_(l),m=_(u),p(((k=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))||this).checkFirst=!1,t.checkCanTouch=!0,t.checkWin=!1,i(t,"detectPlatform",f,r(t)),i(t,"super_html_script",w,r(t)),t.isCheck=!1,t}n(t,e);var a=t.prototype;return a.onLoad=function(){t.instance=this,o.instance.enable=!0},t.getInstance=function(){return t.instance},a.GameOver=function(){this.checkWin&&!this.isCheck&&(window.SuperGamespace.isWinning.isWinning=!0,window.SuperGamespace.linkStore.linkStore=this.detectPlatform.currentLink,this.super_html_script.on_click_game_end(),this.super_html_script.on_click_download(),this.EventStatus(this.checkWin,this.detectPlatform.currentLink),this.detectPlatform.SwitchToStore(),this.isCheck=!0)},a.start=function(){this.detectPlatform.detectPlatform(),window.SuperGamespace||(window.SuperGamespace={isWinning:{isWinning:!1},linkStore:{linkStore:this.detectPlatform.currentLink}}),console.log("🔗 Store Link:",window.SuperGamespace.linkStore.linkStore)},a.EventStatus=function(e,t){window.SuperGamespace.isWinning.isWinning=e,window.SuperGamespace.linkStore.linkStore=t;var n=new CustomEvent("gameStatusChanged",{detail:{isWinning:window.SuperGamespace.isWinning,linkStore:window.SuperGamespace.linkStore}});window.dispatchEvent(n)},t}(s)).instance=void 0,f=t((S=k).prototype,"detectPlatform",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(S.prototype,"super_html_script",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=S))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/getColorFromType.ts",["cc","./Enum.ts"],(function(e){var r,n,o;return{setters:[function(e){r=e.cclegacy,n=e.Color},function(e){o=e.TypeColor}],execute:function(){e("getColorFromType",(function(e){switch(e){case o.BLACK:return(new n).fromHEX("#1B1B1B");case o.RED:return(new n).fromHEX("#FF0F0F");case o.YELLOW:return(new n).fromHEX("#FFFF14");case o.LIGHT_GREEN:return(new n).fromHEX("#39F016");case o.BLUE:return(new n).fromHEX("#0029CA");case o.PURPLE:return(new n).fromHEX("#800DFC");case o.PINK:return(new n).fromHEX("#EB24AB");case o.ORANGE:return(new n).fromHEX("#E04B13");case o.BROWN:return(new n).fromHEX("#5F3A1D");case o.GREEN:return(new n).fromHEX("#0F3617");case o.WHITE:return(new n).fromHEX("#FFFFFF");default:return n.WHITE}})),r._RF.push({},"6bc8dgX3d1MwrMT2c6NRBGD","getColorFromType",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/Grid.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,o,c,l,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,l=e.Node,u=e.Component}],execute:function(){var a,s,p,d,f,h,y,b;o._RF.push({},"7d34dp5y41N7bD9jIUoBeDq","Grid",void 0);var w=c.ccclass,O=c.property;e("Grid",(a=w("Grid"),s=O(l),p=O(l),a((h=n((f=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,t(n,"special",h,r(n)),t(n,"nodeOwn",y,r(n)),t(n,"specialNode",b,r(n)),n.isOccupied=!1,n}i(n,e);var o=n.prototype;return o.start=function(){var e=this;this.special&&this.scheduleOnce((function(){e.nodeOwn=e.specialNode}),.2)},o.CheckOccupied=function(){return null!==this.nodeOwn},o.SetNodeOwn=function(e){this.nodeOwn=e},o.ReBackValue=function(){return this.nodeOwn=null},n}(u)).prototype,"special",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=n(f.prototype,"nodeOwn",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(f.prototype,"specialNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/GridGenerate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,r,t,l,n,o,a,s,d,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,a=e.Prefab,s=e.instantiate,d=e.Vec3,c=e.Component}],execute:function(){var u,h,f,g,z,b,p,S,w,m,C,v,y;n._RF.push({},"9c8558Kd2dBHbM6Ta29ohJX","GridGenerate",void 0);var P=o.ccclass,R=o.property,_=o.executeInEditMode;e("GridGenerate",(u=P("GridGenerate"),h=R({type:a}),f=R({type:a}),u(g=_((b=i((z=function(e){function i(){for(var i,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return i=e.call.apply(e,[this].concat(n))||this,t(i,"gridPrefab",b,l(i)),t(i,"wallPrefab",p,l(i)),t(i,"gridSizeCol",S,l(i)),t(i,"gridSizeRow",w,l(i)),t(i,"cellSize",m,l(i)),t(i,"gridCenter",C,l(i)),t(i,"regenerate",v,l(i)),t(i,"regenerateWall",y,l(i)),i}r(i,e);var n=i.prototype;return n.update=function(){this.node.removeAllChildren(),this.node.removeAllChildren()},n.generateGrid=function(){this.node.removeAllChildren();for(var e=(this.gridSizeCol-1)*this.cellSize/2,i=(this.gridSizeRow-1)*this.cellSize/2,r=0;r<this.gridSizeRow;r++)for(var t=0;t<this.gridSizeCol;t++){var l=s(this.gridPrefab),n=t*this.cellSize-e+this.gridCenter.x,o=r*this.cellSize-i+this.gridCenter.y;l.setPosition(new d(n,0,o)),this.node.addChild(l)}console.log("✅ Grid generated in Editor.")},n.generateWallAroundGrid=function(){if(this&&this.wallPrefab){this.node.removeAllChildren();for(var e=this.gridSizeCol*this.cellSize,i=this.gridSizeRow*this.cellSize,r=this.gridCenter.x-e/2,t=this.gridCenter.z-i/2,l=0;l<this.gridSizeCol;l++){var n=r+l*this.cellSize+this.cellSize/2,o=s(this.wallPrefab);o.setPosition(n,0,t+i+this.cellSize/2-.075),o.setRotationFromEuler(0,0,0),o.name="Wall_Top_"+l,this.node.addChild(o);var a=s(this.wallPrefab);a.setPosition(n,0,t-this.cellSize/2+.075),a.setRotationFromEuler(0,0,0),a.name="Wall_Bottom_"+l,this.node.addChild(a)}for(var d=0;d<this.gridSizeRow;d++){var c=t+d*this.cellSize+this.cellSize/2,u=s(this.wallPrefab);u.setPosition(r-this.cellSize/2+.075,0,c),u.setRotationFromEuler(0,90,0),u.name="Wall_Left_"+d,this.node.addChild(u);var h=s(this.wallPrefab);h.setPosition(r+e+this.cellSize/2-.075,0,c),h.setRotationFromEuler(0,90,0),h.name="Wall_Right_"+d,this.node.addChild(h)}console.log("✅ Walls fully surround the grid.")}},i}(c)).prototype,"gridPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=i(z.prototype,"wallPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(z.prototype,"gridSizeCol",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),w=i(z.prototype,"gridSizeRow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),m=i(z.prototype,"cellSize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),C=i(z.prototype,"gridCenter",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(0,0,0)}}),v=i(z.prototype,"regenerate",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=i(z.prototype,"regenerateWall",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=z))||g)||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/GridManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var r,e,t,n,o,a,s,l,c;return{setters:[function(i){r=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized,o=i.createClass},function(i){a=i.cclegacy,s=i._decorator,l=i.Node,c=i.Component}],execute:function(){var u,d,g,h,f,p,v,y;a._RF.push({},"3091b0Nq2FO97E2XuDO24UD","GridManager",void 0);var z=s.ccclass,b=s.property;i("GridManager",(u=z("GridManager"),d=b([l]),u(((y=function(i){function r(){for(var r,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return r=i.call.apply(i,[this].concat(o))||this,t(r,"listGrid",f,n(r)),r.gridNodes=[],t(r,"gridSizeCol",p,n(r)),t(r,"gridSizeRow",v,n(r)),r}e(r,i);var a=r.prototype;return a.onLoad=function(){r._instance=this,this.InitData()},a.InitData=function(){var i=this;this.node.children.forEach((function(r){i.listGrid.push(r)}));for(var r=0;r<this.gridSizeRow;r++){for(var e=[],t=0;t<this.gridSizeCol;t++){var n=r*this.gridSizeCol+t;e.push(this.listGrid[n])}this.gridNodes.push(e)}console.log(this.gridNodes)},a.FindNodePosition=function(i){for(var r=0;r<this.gridNodes.length;r++)for(var e=0;e<this.gridNodes[r].length;e++)if(this.gridNodes[r][e]===i)return{row:r,col:e};return null},o(r,null,[{key:"instance",get:function(){return this._instance}}]),r}(c))._instance=void 0,f=r((h=y).prototype,"listGrid",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=r(h.prototype,"gridSizeCol",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),v=r(h.prototype,"gridSizeRow",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),g=h))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/HandTutorial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Block.ts","./Wall.ts"],(function(e){var t,n,i,o,r,l,a,u,c,s,p,b,f,h,d,g,w,v,y,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,c=e.Node,s=e.Sprite,p=e.DirectionalLight,b=e.input,f=e.Input,h=e.tween,d=e.Vec3,g=e.UIOpacity,w=e.Tween,v=e.Component},function(e){y=e.Block},function(e){m=e.Wall}],execute:function(){var k,B,T,z,H,C,I,O,L,S,R,_,A,G,D,E,F,P,x,N,U,W,Z,j,J;a._RF.push({},"7d2ee03bZNN+oYWSuRmJZB9","HandTutorial",void 0);var M=u.ccclass,V=u.property;e("HandTutorial",(k=M("HandTutorial"),B=V(c),T=V(y),z=V(m),H=V(m),C=V(c),I=V(s),O=V(s),L=V(p),S=V(c),R=V(c),_=V(c),k((D=t((G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"block0",D,o(t)),i(t,"block1",E,o(t)),i(t,"wall0",F,o(t)),i(t,"wall1",P,o(t)),i(t,"logo",x,o(t)),i(t,"blockBorder",N,o(t)),i(t,"wallBoder",U,o(t)),i(t,"light",W,o(t)),i(t,"hand",Z,o(t)),i(t,"Label",j,o(t)),i(t,"button",J,o(t)),t}n(t,e);var a=t.prototype;return a.start=function(){var e=this;this.light.getComponent(p).illuminance=4e4,this.TweenLogo(),this.GlowBlink(),this.block0.active=!0,this.block1.node.active=!1,this.wall0.node.active=!0,this.wall1.node.active=!1,b.once(f.EventType.TOUCH_START,this.HideHand,this),this.StartEffect(),setTimeout((function(){e.button.active=!0}),5e3)},a.TweenLogo=function(){this.logo.setPosition(0,0,0),this.logo.setScale(.6,.6,1),h(this.logo).delay(1).to(.3,{position:new d(8.7,514.3,0),scale:new d(.3,.3,1)},{easing:"sineInOut"}).start()},a.GlowBlink=function(){this.blockBorder.node.active=!0,this.wallBoder.node.active=!0;var e=this.blockBorder.node.getComponent(g),t=this.wallBoder.node.getComponent(g);e&&h(e).repeatForever(h().to(.3,{opacity:255},{easing:"sineInOut"}).to(.6,{opacity:0},{easing:"sineInOut"})).start(),t&&h(t).repeatForever(h().to(.3,{opacity:255},{easing:"sineInOut"}).to(.6,{opacity:0},{easing:"sineInOut"})).start()},a.stopGlowBlink=function(){var e=this.blockBorder.node.getComponent(g),t=this.wallBoder.node.getComponent(g);e&&w.stopAllByTarget(e),t&&w.stopAllByTarget(t),this.blockBorder.node.active=!1,this.wallBoder.node.active=!1},a.StartEffect=function(){var e=r(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,2e3)}));case 2:t=this.light.getComponent(p),h(t).to(1,{illuminance:15e4},{easing:"sineInOut"}).start(),this.block0.active=!1,this.block1.node.active=!0,this.wall0.node.active=!1,this.wall1.node.active=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.HideHand=function(){this.hand.active=!1,this.Label.active=!1,this.stopGlowBlink(),b.off(f.EventType.TOUCH_START,this.HideHand,this)},t}(v)).prototype,"block0",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(G.prototype,"block1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(G.prototype,"wall0",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(G.prototype,"wall1",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(G.prototype,"logo",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(G.prototype,"blockBorder",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(G.prototype,"wallBoder",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(G.prototype,"light",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(G.prototype,"hand",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(G.prototype,"Label",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(G.prototype,"button",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=G))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/InputManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Block.ts","./GameManager.ts","./Effect3D.ts","./SoundManager.ts"],(function(t){var e,n,o,i,a,s,r,c,u,l,h,p,d,m,f,g,D,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Camera,c=t.Vec3,u=t.input,l=t.Input,h=t.PhysicsSystem,p=t.geometry,d=t.math,m=t.Component},function(t){f=t.Block},function(t){g=t.GameManager},function(t){D=t.Effect3D},function(t){v=t.SoundManager}],execute:function(){var y,C,M,P,T;a._RF.push({},"5d462c646RD0KIG2rLFKjk3","InputManager",void 0);var w=s.ccclass,k=s.property;t("InputManager",(y=w("InputManager"),C=k(r),y((T=e((P=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"mainCam",T,i(e)),e.nodeDetect=null,e.offset=new c,e.checkFirst=!1,e}n(e,t);var a=e.prototype;return a.onLoad=function(){u.on(l.EventType.TOUCH_START,this.onMouseDown,this),u.on(l.EventType.TOUCH_MOVE,this.onMouseDrag,this),u.on(l.EventType.TOUCH_END,this.onMouseUp,this),u.on(l.EventType.TOUCH_CANCEL,this.onMouseUp,this)},a.GetPosWorldCam=function(t){var e=t.getLocation();return this.mainCam.screenPointToRay(e.x,e.y)},a.onMouseDown=function(t){if(g.instance.checkCanTouch&&(this.checkFirst||(this.checkFirst=!0),h.instance.raycastClosest(this.GetPosWorldCam(t)))){var e=h.instance.raycastClosestResult.collider.node;if(null!==e&&e.getComponent(f)&&!e.getComponent(f).canMove){g.instance.checkFirst=!0,this.nodeDetect=e,v.instance.playSFX("PopBlock"),D.playQuickShake(this.nodeDetect);var n=this.nodeDetect.getComponent(f).border;n?n.active=!0:console.warn("Block does not have a border node."),this.nodeDetect.setPosition(this.nodeDetect.position.x,.5,this.nodeDetect.position.z)}}},a.getDragPoint=function(t){var e=new p.Ray;this.mainCam.screenPointToRay(t.getLocationX(),t.getLocationY(),e);var n=new c(0,1,0),o=new c(0,0,0),i=c.dot(e.d,n);if(Math.abs(i)<1e-4)return null;var a=new c;c.subtract(a,o,e.o);var s=c.dot(a,n)/i,r=new c;return c.scaleAndAdd(r,e.o,e.d,s),r},a.onMouseDrag=function(t){if(this.nodeDetect){var e=this.getDragPoint(t);if(e){var n=this.nodeDetect.getComponent(f);n.InitDataOfListNodeOwnFrame();var o=n.GetGroupLimit(),i=n.GetWorldLimitPosition(o),a=d.clamp(e.x,i.min.x,i.max.x),s=d.clamp(e.z,i.min.z,i.max.z),r=this.nodeDetect.getWorldPosition(),u=new c(a,.5,s),l=new c;c.lerp(l,r,u,1),this.nodeDetect.setWorldPosition(l)}}},a.onMouseUp=function(t){null!=this.nodeDetect&&(this.nodeDetect.getComponent(f).SetPosTouchEnd(),this.nodeDetect=null)},e}(m)).prototype,"mainCam",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=P))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BlockControl.ts","./ColorManager.ts","./GameManager.ts","./GridManager.ts","./InputManager.ts","./SoundManager.ts","./UIManager.ts","./Block.ts","./CoffeeCup.ts","./CoffeeRay.ts","./Grid.ts","./PosCheck.ts","./PosCheckCup.ts","./Wall.ts","./Constraint.ts","./CupSpriteManager.ts","./Effect2D.ts","./Effect3D.ts","./GridGenerate.ts","./HandTutorial.ts","./ObjectPooling.ts","./getColorFromType.ts","./DetectPlatform.ts","./StoreLinkOS.ts","./Super_html_script.ts","./super_html_playable.ts","./Enum.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ObjectPooling.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,r,i,a,c,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Prefab,p=e.instantiate,l=e.Component}],execute:function(){var s,u,f,h,v;i._RF.push({},"343d6OaQ29L+7f1rae/Xwvj","ObjectPooling",void 0);var b=a.ccclass,g=a.property;e("GenericObjectPool",(s=b("GenericObjectPool"),u=g(c),s((v=t((h=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"prefab",v,r(t)),t.pool=[],t}o(t,e);var i=t.prototype;return i.preload=function(e){for(var t=0;t<e;t++){var o=p(this.prefab),n=o.getComponent(l);n&&(o.active=!1,this.pool.push(n))}},i.get=function(e){var t;this.pool.length>0?t=this.pool.pop():t=p(this.prefab).getComponent(l);return e&&(t.node.parent=e),t.node.active=!0,t},i.put=function(e){e.node.removeFromParent(),e.node.active=!1,this.pool.push(e)},i.clear=function(){this.pool.length=0},t}(l)).prototype,"prefab",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/PosCheck.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GridManager.ts","./Grid.ts"],(function(n){var e,t,o,i,r,s,c,a,l,u,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,s=n._decorator,c=n.Node,a=n.Vec3,l=n.Component},function(n){u=n.GridManager},function(n){d=n.Grid}],execute:function(){var p,w,h,f,g,C,O;r._RF.push({},"c75e9IAcVpFuoQXmsKFR42W","PosCheck",void 0);var P=s.ccclass,m=s.property;n("PosCheck",(p=P("PosCheck"),w=m(c),p((g=e((f=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=n.call.apply(n,[this].concat(r))||this,o(e,"rowOwn",g,i(e)),o(e,"colOwn",C,i(e)),o(e,"nodeCloset",O,i(e)),e.listPosPassenger=[],e.cupSlots=[new a(-.004,0,.004),new a(.004,0,.004),new a(-.004,0,-.004),new a(.004,0,-.004)],e}t(e,n);var r=e.prototype;return r.start=function(){this.InitDataPos()},r.InitDataPos=function(){var n=this.FindNodeCloset(),e=u.instance.FindNodePosition(n);null!=e&&(u.instance.gridNodes[this.rowOwn][this.colOwn].getComponent(d).nodeOwn==this.node.parent&&this.ReBackValue(),this.rowOwn=e.row,this.colOwn=e.col,u.instance.gridNodes[this.rowOwn][this.colOwn].getComponent(d).SetNodeOwn(this.node.parent))},r.ReBackValue=function(){u.instance.gridNodes[this.rowOwn][this.colOwn].getComponent(d).ReBackValue()},r.FindNodeCloset=function(){var n=this,e=null,t=5,o=this.node.getWorldPosition();return u.instance.listGrid.forEach((function(i){var r=i.getWorldPosition(),s=a.distance(o,r);s<t&&(!i.getComponent(d).CheckOccupied()||i.getComponent(d).nodeOwn==n.node.parent)&&(t=s,e=i)})),this.nodeCloset=e,e},e}(l)).prototype,"rowOwn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(f.prototype,"colOwn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=e(f.prototype,"nodeCloset",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/PosCheckCup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoffeeCup.ts"],(function(t){var e,n,r,o,u,i,c,s,p,a,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){u=t.cclegacy,i=t._decorator,c=t.Node,s=t.tween,p=t.Vec3,a=t.Component},function(t){l=t.CoffeeCup}],execute:function(){var C,f,h,d,v;u._RF.push({},"3b5a4U1BxJLiYlhtYJdVWEX","PosCheckCup",void 0);var y=i.ccclass,P=i.property;t("PosCheckCup",(C=y("PosCheckCup"),f=P(c),C((v=e((d=function(t){function e(){for(var e,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return e=t.call.apply(t,[this].concat(u))||this,r(e,"currentCup",v,o(e)),e}n(e,t);var u=e.prototype;return u.onLoad=function(){var t=this;this.node.children.forEach((function(e){var n=e.getComponent(l);n&&t.setCup(n.node)}))},u.hasCup=function(){return null!==this.currentCup},u.getCup=function(){return this.currentCup},u.setCup=function(t){this.currentCup=t;var e=t.worldPosition.clone();t.setParent(this.node),t.setWorldPosition(e),s(t).to(.02,{position:new p(0,0,0)}).start()},u.clearCup=function(){this.currentCup=null},e}(a)).prototype,"currentCup",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));u._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,n,t,i,r,u,c,a,s,l,p,d,h;return{setters:[function(o){e=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,u=o._decorator,c=o.Node,a=o.AudioSource,s=o.input,l=o.Input,p=o.resources,d=o.AudioClip,h=o.Component}],execute:function(){var f,g,y,S,b,m,v,M;r._RF.push({},"81c9bAQ8PZHJ42MG2iWIAHK","SoundManager",void 0);var A=u.ccclass,T=u.property;o("SoundManager",(f=A("SoundManager"),g=T(c),y=T(c),f(((M=function(o){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(e=o.call.apply(o,[this].concat(r))||this).bgmSource=null,e.sfxSource=null,t(e,"bgmNode",m,i(e)),t(e,"sfxTouchNode",v,i(e)),e._audioUnlocked=!1,e}n(e,o);var r=e.prototype;return r.onLoad=function(){e.instance=this,this.bgmSource=this.bgmNode.getComponent(a),this.sfxSource=this.sfxTouchNode.getComponent(a),this.playBGM(),s.once(l.EventType.TOUCH_START,this.unlockAudio,this)},r.unlockAudio=function(){this._audioUnlocked||(this._audioUnlocked=!0,this.playBGM())},r.playBGM=function(){this.bgmSource.play()},r.playSFX=function(o){var e=this;p.load("audio/"+o,d,(function(n,t){!n&&t?e.sfxSource.playOneShot(t,1):console.warn("Không tìm thấy sound effect:",o)}))},r.stopBGM=function(){this.bgmSource.stop()},e}(h)).instance=void 0,m=e((b=M).prototype,"bgmNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(b.prototype,"sfxTouchNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=b))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/StoreLinkOS.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"93883Nil3NCnaNw+vgxpUgB","StoreLinkOS",void 0);e("StoreLinkOS",{ANDROID_LINK:"https://play.google.com/store/apps/details?id=com.coffee.jam.stack.pack.master.cup",IOS_LINK:"https://apps.apple.com/us/app/coffee-master-color-block/id6744635698"});t._RF.pop()}}}));

System.register("chunks:///_virtual/super_html_playable.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"cb874SZ+I9BC60qfByM/G07","super_html_playable",void 0);var l=e("super_html_playable",function(){function e(){}var o=e.prototype;return o.download=function(){console.log("download"),window.super_html&&super_html.download()},o.game_end=function(){console.log("game end"),window.super_html&&super_html.game_end()},o.is_hide_download=function(){return!(!window.super_html||!super_html.is_hide_download)&&super_html.is_hide_download()},o.set_google_play_url=function(e){window.super_html&&(super_html.google_play_url=e)},o.set_app_store_url=function(e){window.super_html&&(super_html.appstore_url=e)},e}());e("default",new l);o._RF.pop()}}}));

System.register("chunks:///_virtual/Super_html_script.ts",["./rollupPluginModLoBabelHelpers.js","cc","./super_html_playable.ts","./StoreLinkOS.ts"],(function(t){var o,n,e,r,i,c;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,r=t.Component},function(t){i=t.default},function(t){c=t.StoreLinkOS}],execute:function(){var s;n._RF.push({},"5fde3sp0p1GYrAyQZTgQ5Ga","Super_html_script",void 0);var _=e.ccclass;e.property,t("Super_html_script",_("Super_html_script")(s=function(t){function n(){for(var o,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(o=t.call.apply(t,[this].concat(e))||this).isHideDownLoad=!1,o}o(n,t);var e=n.prototype;return e.onLoad=function(){i.set_google_play_url(c.ANDROID_LINK),i.set_app_store_url(c.IOS_LINK),i.is_hide_download()&&(this.isHideDownLoad=!0)},e.on_click_game_end=function(){i.game_end()},e.on_click_download=function(){i.download()},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,o,a,l,u,c,s,g,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Node,u=t.Label,c=t.DirectionalLight,s=t.tween,g=t.Vec3,f=t.Animation,p=t.Component}],execute:function(){var b,h,m,d,y,w,v,D,z,E,I,L;o._RF.push({},"497b8Ey0O9I1ru3kSDdoJtt","UIManager",void 0);var C=a.ccclass,M=a.property;t("UIManager",(b=C("UIManager"),h=M(l),m=M(l),d=M(u),y=M(c),b((D=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"logo",D,r(e)),i(e,"button",z,r(e)),i(e,"label",E,r(e)),i(e,"lightDirector",I,r(e)),i(e,"timeEffect",L,r(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){var t=this;window.addEventListener("gameStatusChanged",(function(e){var n;null!=(n=e.detail.isWinning)&&n.isWinning&&t.Winning()}))},o.Winning=function(){s(this.logo).to(this.timeEffect,{position:new g(0,200,0),scale:new g(.6,.6,.6)},{easing:"sineOut"}).start();var t=this.logo.getComponent(f);t&&(t.enabled=!1),this.button.getComponent(f).enabled=!1,s(this.button).to(this.timeEffect,{position:new g(0,-200,0),scale:new g(5,5,5)},{easing:"sineOut"}).start(),this.label.string="Next Level",s(this.lightDirector.getComponent(c)).to(this.timeEffect,{illuminance:3e4},{easing:"sineInOut"}).start()},e}(p)).prototype,"logo",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(v.prototype,"button",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(v.prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(v.prototype,"lightDirector",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(v.prototype,"timeEffect",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),w=v))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./getColorFromType.ts","./CoffeeRay.ts","./PosCheckCup.ts","./CoffeeCup.ts"],(function(e){var t,o,r,i,u,n,s,l,a,p,c,h,f,C,y,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,u=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e._decorator,l=e.Enum,a=e.Node,p=e.MeshRenderer,c=e.Animation,h=e.Component},function(e){f=e.TypeColor},function(e){C=e.getColorFromType},function(e){y=e.CoffeeRay},function(e){m=e.PosCheckCup},function(e){v=e.CoffeeCup}],execute:function(){var d,g,b,F,R,Q,k,L,P,z,w,E,A,D,I;n._RF.push({},"0b18aPqk65K15eduA590qEh","Wall",void 0);var T=s.ccclass,W=s.property,_=s.executeInEditMode;e("Wall",(d=T("Wall"),g=W({type:l(f)}),b=W(a),F=W([a]),R=W([a]),Q=W([a]),k=W(p),d(L=_((z=t((P=function(e){function t(){for(var t,o=arguments.length,u=new Array(o),n=0;n<o;n++)u[n]=arguments[n];return(t=e.call.apply(e,[this].concat(u))||this).nodeDetect=null,r(t,"typeColor",z,i(t)),r(t,"Ray",w,i(t)),r(t,"coffeeRays",E,i(t)),r(t,"posCheckList",A,i(t)),r(t,"cupQueue",D,i(t)),t.doorAnim=null,r(t,"mesh",I,i(t)),t}o(t,e);var n=t.prototype;return n.start=function(){this.initCoffeeRay(),this.buildPosCheckList(),this.refreshCupQueue(),this.updateColorFromFirstCup(),this.doorAnim=this.mesh.getComponent(c)},n.initCoffeeRay=function(){var e=this;this.coffeeRays=[],this.Ray.children.forEach((function(t){t.getComponent(y)&&e.coffeeRays.push(t)}))},n.buildPosCheckList=function(){this.posCheckList=[];for(var e,t=u(this.coffeeRays);!(e=t()).done;){var o=e.value.getComponent(y);if(o)for(var r,i=u(o.cupSlots);!(r=i()).done;){var n=r.value.getComponent(m);n&&this.posCheckList.push(n)}}},n.changeColor=function(e){var t=C(null!=e?e:this.typeColor);this.mesh&&this.mesh.materials[0].setProperty("diffuseColor",t)},n.refreshCupQueue=function(){this.cupQueue=[];for(var e,t=u(this.posCheckList);!(e=t()).done;){var o=e.value;o.hasCup()&&this.cupQueue.push(o.getCup())}},n.updateColorFromFirstCup=function(){if(0===this.cupQueue.length)return this.typeColor=f.WHITE,void this.changeColor(this.typeColor);var e=this.cupQueue[0].getComponent(v);e&&(this.typeColor=e.colorID,this.changeColor(this.typeColor))},n.getFirstCup=function(){return this.cupQueue.length>0?this.cupQueue[0]:null},n.popFirstCup=function(){var e,t=null!=(e=this.cupQueue.shift())?e:null;if(t){var o;null==(o=this.doorAnim)||o.play();var r=t.parent,i=null==r?void 0:r.getComponent(m);null==i||i.clearCup()}return this.updateColorFromFirstCup(),t},n.fillEmptyPos=function(){for(var e=0;e<=this.cupQueue.length-1;e++){var t=this.posCheckList[e];if(t.hasCup())return;var o=this.cupQueue[e];if(!o)return;var r=o.parent,i=null==r?void 0:r.getComponent(m);null==i||i.clearCup(),t.setCup(o)}this.refreshCupQueue(),this.updateColorFromFirstCup()},t}(h)).prototype,"typeColor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(P.prototype,"Ray",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(P.prototype,"coffeeRays",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(P.prototype,"posCheckList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(P.prototype,"cupQueue",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(P.prototype,"mesh",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=P))||L)||L));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});